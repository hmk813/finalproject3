<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="patient">

	<select id="patientseq" resultType="int">
		select patient_seq.nextval from dual
	</select>
	
	<insert id="insert" parameterType="PatientDto">
		insert into patient(
			patient_no, patient_name, patient_birth, patient_blood,
			patient_gender, patient_address,
			patient_phone
		)
		values(#{patientNo}, #{patientName}, 
		#{patientBirth}, #{patientBlood}, 
		#{patientGender}, #{patientAddress}, 
		#{patientPhone}) 
	</insert>
	
	<update id="edit" parameterType="PatientDto">
		update patient
			set patient_name = #{patientName}, patient_birth = #{patientBirth},
			patient_blood=#{patientBlood}, patient_gender = #{patientGender},
			patient_address=#{patientAddress}, patient_phone=#{patientPhone}
			where patient_no = #{patientNo}
	</update>

	
	<select id="list3" parameterType="int" resultType="ReceiveDto">
		select * from receive where patient_no = #{patientNo}
	</select>
	
	<select id="list4" parameterType="int" resultType="ReservationDto">
		select * from reservation where reservation_patient_no = #{reservationPatientNo}
	</select>

</mapper>